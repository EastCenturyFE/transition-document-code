(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{109:function(t,i,n){"use strict";var e=n(50);i.a={data:function(){return{canvasDom:"",canvasWH:[0,0],ctx:"",centerPos:[0,0]}},methods:{initCanvas:function(t){var i=this,n=this.$nextTick;return new Promise((function(e){n((function(n){var a=i.$refs,r=i.labelRef,s=i.canvasWH,o=i.centerPos,c=i.canvasDom=a[t];i.labelDom=a[r],s[0]=c.clientWidth,s[1]=c.clientHeight,c.setAttribute("width",s[0]),c.setAttribute("height",s[1]),i.ctx=c.getContext("2d"),o[0]=s[0]/2,o[1]=s[1]/2,e()}))}))},clearCanvas:function(){var t=this.ctx,i=this.canvasWH;t.clearRect.apply(t,[0,0].concat(Object(e.a)(i)))}}}},166:function(t,i,n){},293:function(t,i,n){"use strict";var e=n(166);n.n(e).a},304:function(t,i,n){"use strict";n.r(i);var e=n(50),a=(n(280),n(82),n(72)),r=n(109),s=n(295),o={name:"ShowTransition",mixins:[r.a],props:["data"],data:function(){return{render:null,rectPercent:[.7,.5],rectWH:[0,0],rectStartPoint:[],startPointPos:[0,0],endPointPos:[0,0],curveLength:0,bezierCurve:null,point:null,curveColor:"#ee6d66",pointColor:"#9ce5f4",animationFrame:60}},methods:{init:function(){var t=this.initRender,i=this.initRect,n=this.initBezierCurve;t(),i(),n();var e=this.initPoint,a=this.playAnimation;e(),a()},initRender:function(){var t=this.$refs["show-transition"];this.render=new s.a(t)},initRect:function(){var t=this.render,i=Object(a.a)(this.rectPercent,2),n=i[0],e=i[1],r=this.data,s=Object(a.a)(t.area,2),o=s[0],c=s[1],h=o*n,u=c*e;this.rectWH=[h,u];var l=(o-h)/2,v=(c-u)/2;this.rectStartPoint=[l,v],t.add({name:"rect",animationCurve:r,shape:{x:l,y:v,w:h,h:u},style:{stroke:"#46bd87",fill:"rgba(0,0,0,0)",lineWidth:1}})},initBezierCurve:function(){var t=this.data,i=this.axisChange,n=this.render,r=this.curveColor,s=this.animationFrame,o=t.map((function(t){return t.map((function(t){return t?i(t):null}))})),c=o.reduce((function(t,i,n){var r=Object(a.a)(i,2),s=r[0],c=r[1];if(0===n)return t;var h=o[n-1],u=h[0],l=h[2];return l||(l=Object(e.a)(u)),c||(c=Object(e.a)(s)),t.push([l,c,s]),t}),[o[0][0]]),h=this.curveLength=n.bezierCurve.getBezierCurveLength(c);this.bezierCurve=n.add({name:"bezierCurve",animationCurve:t,animationFrame:s,shape:{points:c},style:{lineWidth:2,stroke:r,lineDash:[0,h],lineJoin:"round"}})},axisChange:function(t){var i=Object(a.a)(t,2),n=i[0],e=i[1],r=Object(a.a)(this.rectStartPoint,2),s=r[0],o=r[1],c=Object(a.a)(this.rectWH,2);return[n*c[0]+s,e*c[1]+o]},initPoint:function(){var t=this.render,i=Object(a.a)(this.rectWH,2),n=i[0],e=(i[1],this.data),r=this.pointColor,s=this.animationFrame,o=Object(a.a)(t.area,2),c=o[0],h=o[1]/2,u=(c-n)/2,l=u+n;this.startPointPos=[u,h],this.endPointPos=[l,h],this.point=t.add({name:"circle",animationCurve:e,animationFrame:s,shape:{rx:u,ry:h,r:7},style:{fill:r}})},playAnimation:function(){var t=this.bezierCurve,i=this.point,n=this.curveLength,e=this.startPointPos,a=this.endPointPos;t.animationEnd(),i.animationEnd(),t.attr("style",{lineDash:[0,n]}),i.attr("shape",{rx:e[0],ry:e[1]}),t.animation("style",{lineDash:[n,0]}),i.animation("shape",{rx:a[0],ry:a[1]})}},mounted:function(){(0,this.init)()}},c=(n(293),n(0)),h=Object(c.a)(o,(function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"show-transition",on:{click:this.playAnimation}},[i("canvas",{ref:"show-transition"})])}),[],!1,null,null,null);i.default=h.exports}}]);